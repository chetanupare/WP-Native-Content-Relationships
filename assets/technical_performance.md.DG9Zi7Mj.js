import{_ as e,c as r,o as a,ag as o}from"./chunks/framework.D7F4Kr4v.js";const g=JSON.parse('{"title":"Performance","description":"","frontmatter":{"title":"Performance"},"headers":[],"relativePath":"technical/performance.md","filePath":"technical/performance.md","lastUpdated":1771056337000}'),n={name:"technical/performance.md"};function i(s,t,l,d,c,m){return a(),r("div",null,[...t[0]||(t[0]=[o('<h1 id="performance-benchmarks" tabindex="-1">Performance benchmarks <a class="header-anchor" href="#performance-benchmarks" aria-label="Permalink to &quot;Performance benchmarks&quot;">​</a></h1><p>Performance characteristics of the Native Content Relationships Integrity Engine at scale. Benchmarks use deterministic test datasets and SQL-native validation.</p><h2 id="test-environment" tabindex="-1">Test environment <a class="header-anchor" href="#test-environment" aria-label="Permalink to &quot;Test environment&quot;">​</a></h2><ul><li><strong>Dataset size</strong>: 100,000 – 1,000,000 relationship rows</li><li><strong>Storage engine</strong>: InnoDB</li><li><strong>Indexing</strong>: Composite covering index (<code>type_lookup</code>)</li><li><strong>WordPress</strong>: 6.x · <strong>PHP</strong>: 7.4+</li><li><strong>Object cache</strong>: Disabled (baseline)</li><li><strong>MySQL buffer pool</strong>: Warmed before final run</li></ul><h2 id="latency-metrics" tabindex="-1">Latency metrics <a class="header-anchor" href="#latency-metrics" aria-label="Permalink to &quot;Latency metrics&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Operation</th><th>100k rows</th><th>1.0M rows</th></tr></thead><tbody><tr><td><strong>Point lookup (mean)</strong></td><td>0.49 ms</td><td>1.00 ms</td></tr><tr><td><strong>Point lookup (P95)</strong></td><td>0.85 ms</td><td>2.73 ms</td></tr><tr><td><strong>Covering index mean</strong></td><td>0.22 ms</td><td>0.61 ms</td></tr><tr><td><strong>Covering index P95</strong></td><td>1.25 ms</td><td>3.42 ms</td></tr><tr><td><strong>Full graph scan</strong></td><td>~7.2 s</td><td>~64.2 s</td></tr></tbody></table><p><em>Variation depends on buffer pool state and cache warm-up.</em></p><h2 id="resource-efficiency" tabindex="-1">Resource efficiency <a class="header-anchor" href="#resource-efficiency" aria-label="Permalink to &quot;Resource efficiency&quot;">​</a></h2><h3 id="memory" tabindex="-1">Memory <a class="header-anchor" href="#memory" aria-label="Permalink to &quot;Memory&quot;">​</a></h3><p>The Integrity Engine uses chunked processing with bounded iteration:</p><ul><li><strong>Peak memory delta (1.0M rows)</strong>: ~2.21 MB</li><li><strong>Max observed</strong>: &lt; 5 MB</li><li><strong>Scaling</strong>: Independent of dataset size</li></ul><p>Suitable for shared hosting and restricted environments.</p><h3 id="database-strategy" tabindex="-1">Database strategy <a class="header-anchor" href="#database-strategy" aria-label="Permalink to &quot;Database strategy&quot;">​</a></h3><p>Covering index:</p><p><code>KEY type_lookup (type, from_id, to_id)</code></p><ul><li>Index-only lookups for common queries</li><li>Avoids full table scans during integrity audits</li><li>Query time growth O(log n)</li></ul><p>Under typical workloads, query latency stays <strong>sub-2ms</strong> at 1M rows.</p><h2 id="scaling" tabindex="-1">Scaling <a class="header-anchor" href="#scaling" aria-label="Permalink to &quot;Scaling&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Metric</th><th>Complexity</th></tr></thead><tbody><tr><td>Point lookups</td><td>O(log n)</td></tr><tr><td>Constraint checks</td><td>O(log n)</td></tr><tr><td>Integrity scan</td><td>O(n) (chunked, bounded memory)</td></tr></tbody></table><p><strong>At 10M rows (projected):</strong></p><ul><li>Point lookups remain index-bound</li><li>Full graph scan ~10–12 minutes (linear)</li><li>Memory &lt; 5 MB</li></ul><h2 id="methodology" tabindex="-1">Methodology <a class="header-anchor" href="#methodology" aria-label="Permalink to &quot;Methodology&quot;">​</a></h2><p>Benchmarks run via the <code>benchmarks/performance-report.php</code> utility:</p><ol><li>Deterministic relationship graph generation</li><li>Buffer pool warming before measurement</li><li>Mean latency over multiple iterations</li><li>Peak memory via <code>memory_get_peak_usage()</code></li></ol><div class="tip custom-block"><p class="custom-block-title">TIP</p><p>For high-availability setups, monitor P95 query latency during full integrity scans.</p></div>',25)])])}const p=e(n,[["render",i]]);export{g as __pageData,p as default};
