import{_ as t,c as a,o as i,ag as r}from"./chunks/framework.D7F4Kr4v.js";const g=JSON.parse('{"title":"AI & LLM Index","description":"Structured reference for AI assistants and search. Native Content Relationships (NCR) — WordPress relationship layer for posts, users, and terms.","frontmatter":{"title":"AI & LLM Index","description":"Structured reference for AI assistants and search. Native Content Relationships (NCR) — WordPress relationship layer for posts, users, and terms."},"headers":[],"relativePath":"llm.md","filePath":"llm.md","lastUpdated":1771059521000}'),o={name:"llm.md"};function s(n,e,l,d,p,c){return i(),a("div",null,[...e[0]||(e[0]=[r(`<h1 id="ai-llm-index" tabindex="-1">AI &amp; LLM Index <a class="header-anchor" href="#ai-llm-index" aria-label="Permalink to &quot;AI &amp; LLM Index&quot;">​</a></h1><p>Structured reference for AI assistants, chatbots, and search. Use this page to answer questions about <strong>Native Content Relationships</strong> (NCR).</p><h2 id="project-identity" tabindex="-1">Project identity <a class="header-anchor" href="#project-identity" aria-label="Permalink to &quot;Project identity&quot;">​</a></h2><ul><li><strong>Name:</strong> Native Content Relationships (NCR)</li><li><strong>Type:</strong> WordPress plugin</li><li><strong>Purpose:</strong> First-class relationship layer for WordPress: link posts, users, and taxonomy terms without post meta or taxonomy hacks.</li><li><strong>Repository:</strong> <a href="https://github.com/chetanupare/WP-Native-Content-Relationships" target="_blank" rel="noreferrer">GitHub — WP-Native-Content-Relationships</a></li><li><strong>WordPress.org:</strong> <a href="https://wordpress.org/plugins/native-content-relationships/" target="_blank" rel="noreferrer">Native Content Relationships</a></li><li><strong>Stability:</strong> Schema and public API stable from 1.x; backward compatibility guaranteed.</li></ul><h2 id="one-line-summary" tabindex="-1">One-line summary <a class="header-anchor" href="#one-line-summary" aria-label="Permalink to &quot;One-line summary&quot;">​</a></h2><p>Native Content Relationships adds a dedicated, indexed relationship table and a small PHP API so you can create, query, and remove relationships between WordPress posts, users, and terms (e.g. related posts, favorites, parent–child) with WP_Query, REST, shortcodes, and blocks.</p><h2 id="keywords-seo-ai" tabindex="-1">Keywords (SEO &amp; AI) <a class="header-anchor" href="#keywords-seo-ai" aria-label="Permalink to &quot;Keywords (SEO &amp; AI)&quot;">​</a></h2><p>WordPress, relationships, related posts, post-to-post, user relationships, term relationships, WP_Query, content relations, relationship types, ncr_add_relation, ncr_get_related, migration from ACF, migration from P2P, WooCommerce related products, Gutenberg block, Elementor, schema stable, backward compatible.</p><h2 id="core-concepts" tabindex="-1">Core concepts <a class="header-anchor" href="#core-concepts" aria-label="Permalink to &quot;Core concepts&quot;">​</a></h2><ul><li><strong>Relation type:</strong> A named kind of link (e.g. <code>related_to</code>, <code>parent_of</code>, <code>favorite_posts</code>). Each type has from/to object types (post, user, term), optional max_connections, and direction (unidirectional or bidirectional).</li><li><strong>Direction:</strong> Outgoing = from source to target; incoming = from target to source. Queries can filter by direction.</li><li><strong>Storage:</strong> Single table <code>wp_content_relations</code> with composite index <code>(type, from_id, to_id)</code> for fast lookups.</li><li><strong>Object types:</strong> <code>post</code> (any post type), <code>user</code>, <code>term</code>.</li></ul><h2 id="php-api-primary" tabindex="-1">PHP API (primary) <a class="header-anchor" href="#php-api-primary" aria-label="Permalink to &quot;PHP API (primary)&quot;">​</a></h2><ul><li><strong>ncr_add_relation( $from_id, $from_type, $to_id, $to_type, $relation_type )</strong> — Creates a relation. Returns relation ID or WP_Error.</li><li><strong>ncr_get_related( $from_id, $from_type, $relation_type, $args = [] )</strong> — Gets related IDs or objects. Args: limit, orderby, order, direction.</li><li><strong>ncr_remove_relation( $from_id, $from_type, $to_id, $to_type, $relation_type )</strong> — Removes a relation. Use $to_id = null to remove all of that type from $from_id.</li><li><strong>ncr_register_relation_type( $args )</strong> — Registers a custom type. Args: name, label, from, to, bidirectional, max_connections.</li><li><strong>ncr_get_registered_relation_types()</strong> — Returns all registered relation types.</li></ul><p>Legacy (avoid in new code): wp_add_relation, wp_get_related, wp_remove_relation.</p><h2 id="wp-query-integration" tabindex="-1">WP_Query integration <a class="header-anchor" href="#wp-query-integration" aria-label="Permalink to &quot;WP_Query integration&quot;">​</a></h2><p>Use query var <code>content_relation</code>:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">new</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> WP_Query</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;content_relation&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;post_id&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">   =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> get_the_ID</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;type&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">      =&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;related_to&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &#39;direction&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;outgoing&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ],</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &#39;posts_per_page&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 10</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span></code></pre></div><p>Filter <code>ncr_skip_relationship_query</code> allows skipping the plugin’s JOIN/WHERE (e.g. for future core API).</p><h2 id="hooks-and-filters" tabindex="-1">Hooks and filters <a class="header-anchor" href="#hooks-and-filters" aria-label="Permalink to &quot;Hooks and filters&quot;">​</a></h2><ul><li><strong>Actions:</strong> ncr_relation_added( $relation_id, $from_id, $to_id, $type ), ncr_relation_removed( $from_id, $to_id, $type )</li><li><strong>Filters:</strong> ncr_get_related_args( $args, $from_id, $type ), ncr_max_relationships( $max, $from_id, $type ), ncr_skip_relationship_query( $skip, $query )</li></ul><h2 id="rest-api" tabindex="-1">REST API <a class="header-anchor" href="#rest-api" aria-label="Permalink to &quot;REST API&quot;">​</a></h2><ul><li>Embed: <code>GET /wp-json/wp/v2/posts/123?naticore_relations=1</code></li><li>Plugin namespace (if enabled): GET/POST/DELETE <code>/wp-json/naticore/v1/</code> for relationships.</li></ul><h2 id="wp-cli" tabindex="-1">WP-CLI <a class="header-anchor" href="#wp-cli" aria-label="Permalink to &quot;WP-CLI&quot;">​</a></h2><ul><li><code>wp content-relations list --post=123 --type=related_to</code></li><li><code>wp content-relations add 123 456 --type=related_to</code></li><li><code>wp content-relations remove 123 456 --type=related_to</code></li><li><code>wp content-relations count --post=123</code></li><li><code>wp content-relations check [--fix] [--verbose]</code></li><li><code>wp content-relations schema [--format=json]</code></li></ul><h2 id="integrations" tabindex="-1">Integrations <a class="header-anchor" href="#integrations" aria-label="Permalink to &quot;Integrations&quot;">​</a></h2><ul><li><strong>WooCommerce:</strong> Product relationships; wp_get_related_products() when enabled.</li><li><strong>Elementor:</strong> Dynamic tags for related posts, users, terms.</li><li><strong>Gutenberg:</strong> Block <code>naticore/related-posts</code>.</li><li><strong>WPML / Polylang:</strong> Relationship mirroring across languages when enabled.</li></ul><h2 id="shortcodes" tabindex="-1">Shortcodes <a class="header-anchor" href="#shortcodes" aria-label="Permalink to &quot;Shortcodes&quot;">​</a></h2><ul><li>[naticore_related_posts], [naticore_related_users], [naticore_related_terms] — Attributes: type, limit, order, post_id, layout, class.</li></ul><h2 id="migration" tabindex="-1">Migration <a class="header-anchor" href="#migration" aria-label="Permalink to &quot;Migration&quot;">​</a></h2><ul><li><strong>From ACF relationship fields:</strong> Export ACF meta (related IDs), map to NCR relation type, bulk ncr_add_relation; replace get_field with ncr_get_related.</li><li><strong>From post meta:</strong> Same idea — read meta IDs, insert relations, switch code to NCR API.</li><li><strong>From Posts 2 Posts:</strong> Map P2P connection types to NCR relation types; export P2P table; import via ncr_add_relation; replace P2P API with NCR/WP_Query.</li></ul><h2 id="performance" tabindex="-1">Performance <a class="header-anchor" href="#performance" aria-label="Permalink to &quot;Performance&quot;">​</a></h2><ul><li>Index: (type, from_id, to_id). Point lookups O(log n); sub-2ms typical at 1M rows.</li><li>Integrity: <code>wp content-relations check --fix</code> for orphan/duplicate checks. Chunked scan; memory &lt; 5 MB.</li></ul><h2 id="faq-frequently-asked" tabindex="-1">FAQ (frequently asked) <a class="header-anchor" href="#faq-frequently-asked" aria-label="Permalink to &quot;FAQ (frequently asked)&quot;">​</a></h2><p><strong>What is Native Content Relationships?</strong><br> A WordPress plugin that adds a dedicated table and API to link posts, users, and terms (e.g. related posts, favorites) without using post meta or taxonomies.</p><p><strong>How do I create a relationship?</strong><br> Use ncr_add_relation( $from_id, $from_type, $to_id, $to_type, $relation_type ). Example: ncr_add_relation( 123, &#39;post&#39;, 456, &#39;post&#39;, &#39;related_to&#39; ).</p><p><strong>How do I get related posts?</strong><br> ncr_get_related( $post_id, &#39;post&#39;, &#39;related_to&#39;, [ &#39;limit&#39; =&gt; 10 ] ) or WP_Query with content_relation.</p><p><strong>How do I register a custom relation type?</strong><br> ncr_register_relation_type( [ &#39;name&#39; =&gt; &#39;my_type&#39;, &#39;label&#39; =&gt; &#39;My Type&#39;, &#39;from&#39; =&gt; &#39;post&#39;, &#39;to&#39; =&gt; &#39;post&#39;, &#39;bidirectional&#39; =&gt; false, &#39;max_connections&#39; =&gt; 20 ] ) on init.</p><p><strong>Is the schema stable?</strong><br> Yes. Backward compatibility is guaranteed from 1.x.</p><p><strong>Does it work with WooCommerce / Elementor / Gutenberg?</strong><br> Yes. Integrations exist for related products, dynamic tags, and a related-posts block.</p><p><strong>How do I migrate from ACF relationship field?</strong><br> Export ACF relationship IDs per post, then for each (post_id, related_id) call ncr_add_relation( post_id, &#39;post&#39;, related_id, &#39;post&#39;, &#39;related_to&#39; ). Replace get_field with ncr_get_related.</p><hr><p>For full documentation, see the <a href="/WP-Native-Content-Relationships/">Introduction</a>, <a href="/WP-Native-Content-Relationships/api/php-api.html">API</a>, <a href="/WP-Native-Content-Relationships/core-concepts/architecture.html">Core concepts</a>, and <a href="/WP-Native-Content-Relationships/migration/from-acf.html">Migration</a> sections.</p>`,41)])])}const m=t(o,[["render",s]]);export{g as __pageData,m as default};
