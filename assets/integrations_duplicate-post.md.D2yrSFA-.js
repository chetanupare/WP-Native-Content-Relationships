import{_ as a,c as s,o as e,ag as i}from"./chunks/framework.D7F4Kr4v.js";const u=JSON.parse('{"title":"Duplicate Post","description":"Copy relationships when duplicating posts — Yoast Duplicate Post, Post Duplicator, Copy & Delete Posts.","frontmatter":{"title":"Duplicate Post","description":"Copy relationships when duplicating posts — Yoast Duplicate Post, Post Duplicator, Copy & Delete Posts."},"headers":[],"relativePath":"integrations/duplicate-post.md","filePath":"integrations/duplicate-post.md","lastUpdated":1771061476000}'),o={name:"integrations/duplicate-post.md"};function p(l,t,n,r,d,h){return e(),s("div",null,[...t[0]||(t[0]=[i(`<h1 id="duplicate-post-integration" tabindex="-1">Duplicate Post Integration <a class="header-anchor" href="#duplicate-post-integration" aria-label="Permalink to &quot;Duplicate Post Integration&quot;">​</a></h1><p>When you duplicate a post with a supported duplicate-post plugin, NCR can <strong>copy all relationships</strong> from the original to the new post so the duplicate keeps the same related content links.</p><hr><h2 id="supported-plugins" tabindex="-1">Supported plugins <a class="header-anchor" href="#supported-plugins" aria-label="Permalink to &quot;Supported plugins&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Plugin</th><th>Hook / detection</th><th>Behavior</th></tr></thead><tbody><tr><td><strong>Yoast Duplicate Post</strong></td><td><code>dp_duplicate_post</code>, <code>dp_duplicate_page</code></td><td>Copies relations from original to new post</td></tr><tr><td><strong>Post Duplicator</strong> (metaphorcreations)</td><td><code>mtphr_post_duplicator_created</code></td><td>Same</td></tr><tr><td><strong>Copy &amp; Delete Posts</strong> (Inisev)</td><td><code>_cdp_origin</code> post meta on new post</td><td>When meta is added, copies from original to duplicate</td></tr></tbody></table><p>Other duplicate-post plugins can integrate by calling the helper or firing the action below.</p><hr><h2 id="helper-copy-relations-manually" tabindex="-1">Helper: copy relations manually <a class="header-anchor" href="#helper-copy-relations-manually" aria-label="Permalink to &quot;Helper: copy relations manually&quot;">​</a></h2><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">naticore_copy_relations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( $from_post_id, $to_post_id, $relation_types </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> );</span></span></code></pre></div><ul><li><strong>$from_post_id</strong> — Original post ID.</li><li><strong>$to_post_id</strong> — New (duplicate) post ID.</li><li><strong>$relation_types</strong> — Optional array of relation type slugs to copy; <code>null</code> = all types.</li></ul><p><strong>Returns:</strong> Array with keys <code>copied</code>, <code>skipped</code>, <code>errors</code> (counts).</p><p><strong>Example:</strong></p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// After your plugin creates a duplicate</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$result </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> naticore_copy_relations</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( $original_id, $new_id );</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">if</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> ( </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">!</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> empty</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( $result[</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;copied&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">] ) ) {</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">	// Relations were copied</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><hr><h2 id="action-after-copy" tabindex="-1">Action: after copy <a class="header-anchor" href="#action-after-copy" aria-label="Permalink to &quot;Action: after copy&quot;">​</a></h2><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">do_action</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">( </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;naticore_after_duplicate_post&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, $from_post_id, $to_post_id, $result );</span></span></code></pre></div><p>Fired after NCR (or your code) has finished copying relations. Arguments: original post ID, new post ID, and the result array (<code>copied</code>, <code>skipped</code>, <code>errors</code>). Use to log or run follow-up logic.</p><hr><h2 id="use-case" tabindex="-1">Use case <a class="header-anchor" href="#use-case" aria-label="Permalink to &quot;Use case&quot;">​</a></h2><ul><li>Duplicate a product/course/post and keep “related to”, “parent of”, etc. on the new post.</li><li>Avoid re-linking manually after cloning content.</li></ul><hr><h2 id="see-also" tabindex="-1">See also <a class="header-anchor" href="#see-also" aria-label="Permalink to &quot;See also&quot;">​</a></h2><ul><li><a href="/WP-Native-Content-Relationships/api/hooks-filters.html">Hooks &amp; Filters</a> — All NCR actions and filters</li><li><a href="/WP-Native-Content-Relationships/api/php-api.html">PHP API</a> — Add/remove relations programmatically</li></ul>`,23)])])}const g=a(o,[["render",p]]);export{u as __pageData,g as default};
