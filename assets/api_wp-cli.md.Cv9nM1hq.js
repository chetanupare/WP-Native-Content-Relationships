import{_ as i,c as a,o as t,ag as e}from"./chunks/framework.D7F4Kr4v.js";const c=JSON.parse('{"title":"WP-CLI","description":"","frontmatter":{"title":"WP-CLI"},"headers":[],"relativePath":"api/wp-cli.md","filePath":"api/wp-cli.md","lastUpdated":1771058478000}'),n={name:"api/wp-cli.md"};function l(p,s,h,r,k,o){return t(),a("div",null,[...s[0]||(s[0]=[e(`<h1 id="wp-cli" tabindex="-1">WP-CLI <a class="header-anchor" href="#wp-cli" aria-label="Permalink to &quot;WP-CLI&quot;">​</a></h1><p>The plugin registers the <code>content-relations</code> command group. All examples assume the relation type is <code>related_to</code> unless noted; change <code>--type=</code> as needed.</p><h2 id="quick-reference" tabindex="-1">Quick reference <a class="header-anchor" href="#quick-reference" aria-label="Permalink to &quot;Quick reference&quot;">​</a></h2><table tabindex="0"><thead><tr><th>Command</th><th>Purpose</th></tr></thead><tbody><tr><td><code>wp content-relations list --post=ID [--type=TYPE]</code></td><td>List relations for a post</td></tr><tr><td><code>wp content-relations add FROM_ID TO_ID --type=TYPE</code></td><td>Add one relation</td></tr><tr><td><code>wp content-relations remove FROM_ID TO_ID --type=TYPE</code></td><td>Remove one relation</td></tr><tr><td><code>wp content-relations count --post=ID [--type=TYPE]</code></td><td>Count relations</td></tr><tr><td><code>wp content-relations check [--fix] [--verbose]</code></td><td>Integrity check (optionally fix)</td></tr><tr><td><code>wp content-relations schema [--format=json]</code></td><td>Export relation type schema</td></tr></tbody></table><p>Run <code>wp content-relations --help</code> and <code>wp content-relations &lt;command&gt; --help</code> for full options.</p><hr><h2 id="list-relations" tabindex="-1">List relations <a class="header-anchor" href="#list-relations" aria-label="Permalink to &quot;List relations&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All relations for post 123 (table)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --post=123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Only type &quot;related_to&quot;, output as JSON</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --post=123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=related_to</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format=json</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># CSV for scripting</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> list</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --post=123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format=csv</span></span></code></pre></div><h2 id="add-and-remove" tabindex="-1">Add and remove <a class="header-anchor" href="#add-and-remove" aria-label="Permalink to &quot;Add and remove&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Add: post 123 → post 456, type &quot;related_to&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 456</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=related_to</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Remove that relation</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remove</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 456</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=related_to</span></span></code></pre></div><h2 id="count-and-verify" tabindex="-1">Count and verify <a class="header-anchor" href="#count-and-verify" aria-label="Permalink to &quot;Count and verify&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Total relations for post 123</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> count</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --post=123</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Count only &quot;related_to&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> count</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --post=123</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=related_to</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># Check DB integrity (orphaned rows, missing posts); fix with --fix</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --verbose</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> check</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --fix</span></span></code></pre></div><h2 id="schema-export" tabindex="-1">Schema export <a class="header-anchor" href="#schema-export" aria-label="Permalink to &quot;Schema export&quot;">​</a></h2><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># All registered relation types as JSON</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> schema</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --format=json</span></span></code></pre></div><h2 id="batch-import-from-a-file" tabindex="-1">Batch import from a file <a class="header-anchor" href="#batch-import-from-a-file" aria-label="Permalink to &quot;Batch import from a file&quot;">​</a></h2><p>Create a file <code>pairs.txt</code> with one pair per line: <code>from_id to_id</code> (e.g. <code>123 456</code>). Then:</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">while</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> read</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -r</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> to</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">do</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  wp</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> content-relations</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> add</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$from</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$to</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --type=related_to</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">done</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> &lt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> pairs.txt</span></span></code></pre></div><p>Or with xargs (one pair per line, space-separated):</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> pairs.txt</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> |</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> xargs</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -L1</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> sh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -c</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;wp content-relations add $1 $2 --type=related_to&#39;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> _</span></span></code></pre></div><p>Use after <a href="/WP-Native-Content-Relationships/migration/from-meta.html">migration</a> to bulk-import relations from exported data.</p>`,20)])])}const F=i(n,[["render",l]]);export{c as __pageData,F as default};
