import{_ as t,c as a,o as d,ag as o}from"./chunks/framework.D7F4Kr4v.js";const m=JSON.parse('{"title":"Database Schema","description":"wp_content_relations table structure, columns, indexes, and schema versioning.","frontmatter":{"title":"Database Schema","description":"wp_content_relations table structure, columns, indexes, and schema versioning."},"headers":[],"relativePath":"architecture/schema.md","filePath":"architecture/schema.md","lastUpdated":1771060598000}'),r={name:"architecture/schema.md"};function c(i,e,n,s,h,l){return d(),a("div",null,[...e[0]||(e[0]=[o('<h1 id="database-schema" tabindex="-1">Database Schema <a class="header-anchor" href="#database-schema" aria-label="Permalink to &quot;Database Schema&quot;">​</a></h1><p>Relationships are stored in a single table.</p><h2 id="table-wp-content-relations" tabindex="-1">Table: <code>wp_content_relations</code> <a class="header-anchor" href="#table-wp-content-relations" aria-label="Permalink to &quot;Table: `wp_content_relations`&quot;">​</a></h2><p>The table name is prefixed with the WordPress table prefix (e.g. <code>wp_content_relations</code>).</p><table tabindex="0"><thead><tr><th>Column</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>id</code></td><td>bigint</td><td>Primary key</td></tr><tr><td><code>from_id</code></td><td>bigint</td><td>Source object ID</td></tr><tr><td><code>from_type</code></td><td>varchar</td><td><code>post</code>, <code>user</code>, or <code>term</code></td></tr><tr><td><code>to_id</code></td><td>bigint</td><td>Target object ID</td></tr><tr><td><code>to_type</code></td><td>varchar</td><td><code>post</code>, <code>user</code>, or <code>term</code></td></tr><tr><td><code>type</code></td><td>varchar</td><td>Relationship type slug</td></tr><tr><td><code>relation_order</code></td><td>int</td><td>Optional manual order (when enabled)</td></tr><tr><td><code>created_at</code></td><td>datetime</td><td>Creation time</td></tr></tbody></table><h2 id="indexes" tabindex="-1">Indexes <a class="header-anchor" href="#indexes" aria-label="Permalink to &quot;Indexes&quot;">​</a></h2><ul><li>Composite indexes on <code>(from_id, type)</code> and <code>(to_id, type)</code> for lookups by source or target.</li><li>Covering index <code>type_lookup (type, from_id, to_id)</code> for type-scoped queries and integrity checks.</li></ul><h2 id="schema-version" tabindex="-1">Schema version <a class="header-anchor" href="#schema-version" aria-label="Permalink to &quot;Schema version&quot;">​</a></h2><p><code>NCR_SCHEMA_VERSION</code> (and the option <code>ncr_schema_version</code>) control when migrations run. Schema is stable in the 1.x line; changes are additive or migrated with a documented upgrade path.</p>',9)])])}const _=t(r,[["render",c]]);export{m as __pageData,_ as default};
